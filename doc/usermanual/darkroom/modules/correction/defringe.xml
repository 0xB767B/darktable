<!DOCTYPE sect3 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
               "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
		<!ENTITY % darktable_dtd SYSTEM "../../../dtd/darktable.dtd">
		%darktable_dtd;
		]>
<sect3 status="final" id="defringe">

  <title>Defringe</title>

  <indexterm>
    <primary>modules</primary>
    <secondary>defringe</secondary>
  </indexterm>

  <indexterm>
    <primary>fringe</primary>
    <secondary>removal</secondary>
  </indexterm>

  <indexterm>
    <primary>purple fringing</primary>
    <secondary>removal</secondary>
  </indexterm>

  <sect4>

    <title>Overview</title>

    <informaltable frame="none">
      <tgroup cols="2" colsep="0" rowsep="0">
        <colspec colwidth="6*"/>
        <colspec colwidth="4*"/>
        <tbody>
          <row>
            <entry>
              This module is designed to remove purple or any other color of fringing, often resulting from Longitudinal Chromatic
	      Abberations (LCA), also known as Axial Chromatic Abberations.
            </entry>
            <entry>
              <graphic fileref="darkroom/modules/images/defringe.png" scalefit="1" width="80%" align="center" />
            </entry>
          </row>
        </tbody>
      </tgroup>
    </informaltable>

  </sect4>

  <sect4>

    <title>Usage</title>

    <para>
      This module helps removing fringe by taking the color from less-saturated neighboring pixels into
      account to rebuild the color of the edge.
    </para>

    <sect5>
      <title>operation mode</title>
      <para>
        Set the operation mode for detecting fringes.
	<quote>region average</quote> is usually computed fast but might show slightly wrong previews in high magnification.
	It might also protect the wrong regions of color too much or too low in comparison to local averaging.
	<quote>local average</quote> is slower because it computes local color references for every pixel, which might protect
	color better than global average and allow for rebuilding color where actually required.
	The <quote>static</quote> method does not use a color reference but directly uses the threshold as given by the user.
      </para>
    </sect5>

    <sect5>
      <title>edge detection radius</title>
      <para>
        Set the spatial extent of the gaussian blur used for a `difference of gaussians' edge detection, in which only one gaussian is actually computed and the other one is the image itself.
      </para>
    </sect5>

    <sect5>
      <title>threshold</title>
      <para>
        Sets the threshold over which the edge of a pixel has to be to see it as a `fringe' that will get it's new color from neighboring pixels.
      </para>
    </sect5>

    <sect5>
      <title>strength</title>
      <para>
	Sets the strength of weighing neighboring pixels.
      </para>
    </sect5>

  </sect4>

</sect3>
